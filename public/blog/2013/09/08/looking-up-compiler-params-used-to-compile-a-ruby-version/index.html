<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Looking up Compiler params used to compile a Ruby version &middot; Sadique Ali </title>

  
  <link rel="stylesheet" href="http://sdqali.in/css/poole.css">
  <link rel="stylesheet" href="http://sdqali.in/css/syntax.css">
  <link rel="stylesheet" href="http://sdqali.in/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.ico">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Sadique Ali" />

</head>


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@sdqali">
<meta name="twitter:creator" content="@sdqali">
<meta name="twitter:title" content="Looking up Compiler params used to compile a Ruby version">
<meta name="twitter:description" content="Today Kashyap asked how one can identify the compiler parameters passed when compiling a Ruby version. I was curious how to achieve this and like any confused developer started searching for and looking in the Ruby documentation. Searching for compiler parameters in ruby did not yield any interesting results and the group of constants with the RUBY_ prefix 1 loaded in Ruby did not include anything related to compiler flags. Then I came across this blog post 2 by Jan Lelis and I was curious what else RbConfig::CONFIG contains.">
<meta name="twitter:image" content="http://sdqali.in/map[feature:/images/threaded-blue-on-black-cropped.jpg]">

<body class="theme-base-0b">

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
	<a href="/">Sadique Ali</a>
      </h1>
      <p class="lead">
       A blog about the Code I write and the Technologies I use. And other things that interest me. 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      <li><a href="/blog/">Blog</a> </li>
      <li><a href="/about">About</a> </li>
      <li><a href="https://github.com/sdqali">GitHub</a> </li>
      <li><a href="https://twitter.com/sdqali">Twitter</a> </li>
      <li><a href="https://www.linkedin.com/in/sdqali">LinkedIn</a> </li>
      
        <li><a href="/blog/2015/11/24/testing-async-responses-using-mockmvc/"> Testing async responses using MockMvc </a></li>
      
    </ul>

    <p>&copy; 2015. All rights reserved. </p>
  </div>
</div>


    <div class="content container">
<div class="post">
  <h1>Looking up Compiler params used to compile a Ruby version</h1>
  <span class="post-date">Sun, Sep 8, 2013</span>
      <p>Today <a href="https://twitter.com/kgrz">Kashyap</a> asked how one can identify the compiler parameters passed when compiling a Ruby version. I was curious how to achieve this and like any confused developer started searching for and looking in the Ruby documentation. Searching for <strong>compiler parameters in ruby</strong> did not yield any interesting results and the group of constants with the <code>RUBY_</code> prefix <sup class="footnote-ref" id="fnref:02edc7728151fabdc400a1f364aaaf4d:1"><a rel="footnote" href="#fn:02edc7728151fabdc400a1f364aaaf4d:1">1</a></sup> loaded in Ruby did not include anything related to compiler flags. Then I came across this blog post <sup class="footnote-ref" id="fnref:02edc7728151fabdc400a1f364aaaf4d:2"><a rel="footnote" href="#fn:02edc7728151fabdc400a1f364aaaf4d:2">2</a></sup> by <a href="https://twitter.com/happycode">Jan Lelis</a> and I was curious what else <code>RbConfig::CONFIG</code> contains. This hash contains all the compiler flags used to compile the current Ruby VM.</p>

<p>This code snippet prints the hash.</p>

<pre><code class="language-ruby">#! /usr/bin/env ruby

require &quot;rbconfig&quot;

RbConfig::CONFIG.each do |k, v|
  puts &quot;#{k} - #{v}&quot;
end
</code></pre>

<p>When this is executed under Ruby 1.9.3p194  under OS X, a section of the output will look like this:</p>

<pre><code class="language-bash">target_vendor - apple
target_os - darwin12.2.1
CC - gcc-4.2
CFLAGS -  -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=shorten-64-to-32 -Werror=implicit-function-declaration -I/Users/sdqali/.rvm/usr/include -fno-common -pipe
LDFLAGS - -L. -L/Users/sdqali/.rvm/usr/lib -L/usr/local/lib
</code></pre>
<div class="footnotes">

<hr />

<ol>
<li id="fn:02edc7728151fabdc400a1f364aaaf4d:1">These constants are <code>RUBY_COPYRIGHT</code>, <code>RUBY_DESCRIPTION</code>, <code>RUBY_ENGINE</code>, <code>RUBY_PATCHLEVEL</code>, <code>RUBY_PLATFORM</code>, <code>RUBY_RELEASE_DATE</code>, <code>RUBY_REVISION</code> and <code>RUBY_VERSION</code> on Ruby 1.9.3p194.
 <a class="footnote-return" href="#fnref:02edc7728151fabdc400a1f364aaaf4d:1"><sup>[return]</sup></a></li>
<li id="fn:02edc7728151fabdc400a1f364aaaf4d:2">Jan Lelis: <a href="http://rbjl.net/35-how-to-properly-check-for-your-ruby-interpreter-version-and-os">How to properly check for your Ruby interpreter, version and OS</a>
 <a class="footnote-return" href="#fnref:02edc7728151fabdc400a1f364aaaf4d:2"><sup>[return]</sup></a></li>
</ol>
</div>

</div>
</div>

  </body>
</html>
