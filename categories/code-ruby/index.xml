<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Code Ruby on Sadique Ali</title>
    <link>http://sdqali.in/categories/code-ruby/</link>
    <description>Recent content in Code Ruby on Sadique Ali</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 24 Mar 2011 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://sdqali.in/categories/code-ruby/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Empathy Log Parser</title>
      <link>http://sdqali.in/blog/2011/03/24/empathy-log-parser/</link>
      <pubDate>Thu, 24 Mar 2011 00:00:00 +0000</pubDate>
      
      <guid>http://sdqali.in/blog/2011/03/24/empathy-log-parser/</guid>
      <description>&lt;p&gt;I use Empathy as my preferred IM application. Today, I wanted to have a look at an IM conversation I had with someone. I pulled out the Empathy log corresponding to that conversation, and boom - it is in XML.&lt;/p&gt;

&lt;p&gt;Just another excuse to write code. So I came up with the following. It was easy to write and it does not do much - It uses the Hpricot gem to parse the XML and prints the name of the people involved in the chat and their messages in a human readable form. What? You are one of those souls who actually enjoy reading XML? Well, I am not one of those.&lt;/p&gt;

&lt;p&gt;So here is the code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #0099FF; font-style: italic&#34;&gt;#!/usr/bin/env ruby&lt;/span&gt;
&lt;span style=&#34;color: #0099FF; font-style: italic&#34;&gt;# empathy_lp.rb&lt;/span&gt;
&lt;span style=&#34;color: #0099FF; font-style: italic&#34;&gt;# Usage - ./empathy_lp.rb /tmp/20110323.log&lt;/span&gt;

&lt;span style=&#34;color: #336666&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;#39;rubygems&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #336666&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;#39;hpricot&amp;#39;&lt;/span&gt;

&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;module&lt;/span&gt; &lt;span style=&#34;color: #00CCFF; font-weight: bold&#34;&gt;EmpathyLP&lt;/span&gt;
  &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #00AA88; font-weight: bold&#34;&gt;LogParser&lt;/span&gt;
    &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color: #CC00FF&#34;&gt;initialize&lt;/span&gt; file_path
      conversation_xml &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #336600&#34;&gt;IO&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;readlines(file_path)&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;to_s
      &lt;span style=&#34;color: #003333&#34;&gt;@doc&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #336600&#34;&gt;Hpricot&lt;/span&gt; conversation_xml
    &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;

    &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color: #CC00FF&#34;&gt;messages&lt;/span&gt;
      (&lt;span style=&#34;color: #003333&#34;&gt;@doc&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;)&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;map &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;|&lt;/span&gt;m&lt;span style=&#34;color: #555555&#34;&gt;|&lt;/span&gt;
        m&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;attributes&lt;span style=&#34;color: #555555&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; m&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;inner_text
      &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;
    &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;
  &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;
&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;

path &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #336600&#34;&gt;ARGV&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;first
&lt;span style=&#34;color: #336666&#34;&gt;puts&lt;/span&gt; &lt;span style=&#34;color: #336600&#34;&gt;EmpathyLP&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #336600&#34;&gt;LogParser&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;new(path)&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;messages
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I will modify this slightly to show a timestamp for each message.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Binary Signature Art</title>
      <link>http://sdqali.in/blog/2011/03/23/binary-signature-art/</link>
      <pubDate>Wed, 23 Mar 2011 00:00:00 +0000</pubDate>
      
      <guid>http://sdqali.in/blog/2011/03/23/binary-signature-art/</guid>
      <description>&lt;p&gt;I was reading this very interesting &lt;a href=&#34;http://forums.xkcd.com/viewtopic.php?f=7&amp;amp;t=11765&#34;&gt;thread&lt;/a&gt; on the xkcd forum when I noticed a post from a user with the following signature in binary:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #FF6600&#34;&gt;01001101&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01100001&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01100100&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01100101&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;00100000&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01011001&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01101111&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01110101&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;00100000&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01001100&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01101111&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01101111&lt;/span&gt; &lt;span style=&#34;color: #FF6600&#34;&gt;01101011&lt;/span&gt; 00100001&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;At first, that did not particularly entice me, mostly because the topic being discussed was really interesting, but it did come back to my focus when I saw that another user had quoted the signature, along with the comment &lt;code&gt;Yeah, you know it. LOL :-)&lt;/code&gt;. I had to find what the original message was.&lt;/p&gt;

&lt;p&gt;So couple of minutes of Ruby later, I figured it out. His message was simple - &lt;code&gt;Made You Look!&lt;/code&gt;. Yeah, he sure did!&lt;/p&gt;

&lt;p&gt;Here is the rather simple Ruby code snippet that did the trick:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;code &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;01001101 01100001 01100100 01100101 00100000 01011001 01101111 01110101 00100000 01001100 01101111 01101111 01101011 00100001&amp;quot;&lt;/span&gt;

parts &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; code&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;split &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot; &amp;quot;&lt;/span&gt;

text &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; parts&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;map &lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color: #336666&#34;&gt;p&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;|&lt;/span&gt;
  &lt;span style=&#34;color: #336666&#34;&gt;p&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;to_i(&lt;span style=&#34;color: #FF6600&#34;&gt;2&lt;/span&gt;)&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;chr
&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;to_s

&lt;span style=&#34;color: #336666&#34;&gt;puts&lt;/span&gt; text
&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>