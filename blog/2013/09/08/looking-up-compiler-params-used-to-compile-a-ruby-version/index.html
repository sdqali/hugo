<!DOCTYPE html5>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" prefix="og: http://ogp.me/ns#">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Looking up Compiler params used to compile a Ruby version</title>

    
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    
    <link href="/css/clean-blog.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    
    
    

</head>

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@sdqali">
  <meta name="twitter:creator" content="@sdqali">
  <meta name="twitter:title" content="Looking up Compiler params used to compile a Ruby version">
  <meta name="twitter:description" content="Today Kashyap asked how one can identify the compiler parameters passed when compiling a Ruby version. I was curious how to achieve this and like any confused developer started searching for and looking in the Ruby documentation. Searching for compiler parameters in ruby did not yield any interesting results and the group of constants with the RUBY_ prefix 1 loaded in Ruby did not include anything related to compiler flags. Then I came across this blog post 2 by Jan Lelis and I was curious what else RbConfig::CONFIG contains.">
  <meta name="twitter:image" content="http://sdqali.in/map[feature:/images/threaded-blue-on-black-cropped.jpg]">

  <meta property="og:title" content="Looking up Compiler params used to compile a Ruby version" />
  <meta property="og:description" content="Today Kashyap asked how one can identify the compiler parameters passed when compiling a Ruby version. I was curious how to achieve this and like any confused developer started searching for and looking in the Ruby documentation. Searching for compiler parameters in ruby did not yield any interesting results and the group of constants with the RUBY_ prefix 1 loaded in Ruby did not include anything related to compiler flags. Then I came across this blog post 2 by Jan Lelis and I was curious what else RbConfig::CONFIG contains." itemprop="description"/>
  <meta property="og:url" content="http://sdqali.in/blog/2013/09/08/looking-up-compiler-params-used-to-compile-a-ruby-version/" />
  <meta property="og:image" content="http://sdqali.in/map[feature:/images/threaded-blue-on-black-cropped.jpg]" />
  <body>

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Sadique Ali</a>
    </div>

    
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/">Home</a> </li>
        <li><a href="/blog/">Blog</a> </li>
        <li><a href="/about">About</a> </li>
        <li><a href="/index.xml">Atom Feed</a> </li>
        <li><a href="https://github.com/sdqali">GitHub</a> </li>
        <li><a href="https://twitter.com/sdqali">Twitter</a> </li>
        <li><a href="https://www.linkedin.com/in/sdqali">LinkedIn</a> </li>
      </ul>
    </div>
    
  </div>
  
</nav>




    
    
    <header class="intro-header">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="site-heading">
              <h1> Looking up Compiler params used to compile a Ruby version</h1>
              <span class="meta">Sun, Sep 8, 2013</span>
            </div>
          </div>
        </div>
      </div>
    </header>


    
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <p>Today <a href="https://twitter.com/kgrz">Kashyap</a> asked how one can identify the compiler parameters passed when compiling a Ruby version. I was curious how to achieve this and like any confused developer started searching for and looking in the Ruby documentation. Searching for <strong>compiler parameters in ruby</strong> did not yield any interesting results and the group of constants with the <code>RUBY_</code> prefix <sup class="footnote-ref" id="fnref:02edc7728151fabdc400a1f364aaaf4d:1"><a rel="footnote" href="#fn:02edc7728151fabdc400a1f364aaaf4d:1">1</a></sup> loaded in Ruby did not include anything related to compiler flags. Then I came across this blog post <sup class="footnote-ref" id="fnref:02edc7728151fabdc400a1f364aaaf4d:2"><a rel="footnote" href="#fn:02edc7728151fabdc400a1f364aaaf4d:2">2</a></sup> by <a href="https://twitter.com/happycode">Jan Lelis</a> and I was curious what else <code>RbConfig::CONFIG</code> contains. This hash contains all the compiler flags used to compile the current Ruby VM.</p>

<p>This code snippet prints the hash.</p>
<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #0099FF; font-style: italic">#! /usr/bin/env ruby</span>

<span style="color: #336666">require</span> <span style="color: #CC3300">&quot;rbconfig&quot;</span>

<span style="color: #336600">RbConfig</span><span style="color: #555555">::</span><span style="color: #336600">CONFIG</span><span style="color: #555555">.</span>each <span style="color: #006699; font-weight: bold">do</span> <span style="color: #555555">|</span>k, v<span style="color: #555555">|</span>
  <span style="color: #336666">puts</span> <span style="color: #CC3300">&quot;</span><span style="color: #AA0000">#{</span>k<span style="color: #AA0000">}</span><span style="color: #CC3300"> - </span><span style="color: #AA0000">#{</span>v<span style="color: #AA0000">}</span><span style="color: #CC3300">&quot;</span>
<span style="color: #006699; font-weight: bold">end</span>
</pre></div>

<p>When this is executed under Ruby 1.9.3p194  under OS X, a section of the output will look like this:</p>
<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>target_vendor - apple
target_os - darwin12.2.1
CC - gcc-4.2
CFLAGS -  -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror<span style="color: #555555">=</span>pointer-arith -Werror<span style="color: #555555">=</span>write-strings -Werror<span style="color: #555555">=</span>declaration-after-statement -Werror<span style="color: #555555">=</span>shorten-64-to-32 -Werror<span style="color: #555555">=</span>implicit-function-declaration -I/Users/sdqali/.rvm/usr/include -fno-common -pipe
LDFLAGS - -L. -L/Users/sdqali/.rvm/usr/lib -L/usr/local/lib
</pre></div>
<div class="footnotes">

<hr />

<ol>
<li id="fn:02edc7728151fabdc400a1f364aaaf4d:1">These constants are <code>RUBY_COPYRIGHT</code>, <code>RUBY_DESCRIPTION</code>, <code>RUBY_ENGINE</code>, <code>RUBY_PATCHLEVEL</code>, <code>RUBY_PLATFORM</code>, <code>RUBY_RELEASE_DATE</code>, <code>RUBY_REVISION</code> and <code>RUBY_VERSION</code> on Ruby 1.9.3p194.
 <a class="footnote-return" href="#fnref:02edc7728151fabdc400a1f364aaaf4d:1"><sup>[return]</sup></a></li>
<li id="fn:02edc7728151fabdc400a1f364aaaf4d:2">Jan Lelis: <a href="http://rbjl.net/35-how-to-properly-check-for-your-ruby-interpreter-version-and-os">How to properly check for your Ruby interpreter, version and OS</a>
 <a class="footnote-return" href="#fnref:02edc7728151fabdc400a1f364aaaf4d:2"><sup>[return]</sup></a></li>
</ol>
</div>

          </div>
        </div>
      </div>
    </article>

    <hr>

    
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          <li>
            <a href="https://twitter.com/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="/index.xml">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        </ul>
        <p class="copyright text-muted">&copy; All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>


<script src="/js/jquery.js"></script>


<script src="/js/bootstrap.min.js"></script>


<script src="/js/clean-blog.min.js"></script>

  </body>
</html>
