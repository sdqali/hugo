<!DOCTYPE html5>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" prefix="og: http://ogp.me/ns#">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A blog about the Code I write and the Technologies I use. And other things that interest me.">
    <meta name="author" content="">

    
    
      
    
    

    <title>Finding un-merged commits with git cherry - Sadique Ali</title>

    
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    
    <link href="/css/clean-blog.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    
    <link href="/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='/css/fonts.css' rel='stylesheet' type='text/css'>

    
    
    

</head>

  <meta name="description" content="In a project that I was a part of in the recent past, we used Story Branching. While it afforded us flexibility in pulling and pushing stories in and out of releases, it has given us some scares in the past. Somebody makes commits against a story, but the commit does not get merged to the correct release branch where it is supposed to go or gets merged to another release." />
  <meta content="" name="keywords">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@sdqali">
  <meta name="twitter:creator" content="@sdqali">
  <meta name="twitter:title" content="Finding un-merged commits with git cherry">
  <meta name="twitter:description" content="In a project that I was a part of in the recent past, we used Story Branching. While it afforded us flexibility in pulling and pushing stories in and out of releases, it has given us some scares in the past. Somebody makes commits against a story, but the commit does not get merged to the correct release branch where it is supposed to go or gets merged to another release.">
  <meta name="twitter:image" content="http://sdqali.in/map[feature:/images/threaded-blue-on-black-cropped.jpg]">

  <meta property="og:title" content="Finding un-merged commits with git cherry" />
  <meta property="og:description" content="In a project that I was a part of in the recent past, we used Story Branching. While it afforded us flexibility in pulling and pushing stories in and out of releases, it has given us some scares in the past. Somebody makes commits against a story, but the commit does not get merged to the correct release branch where it is supposed to go or gets merged to another release." itemprop="description"/>
  <meta property="og:url" content="http://sdqali.in/blog/2012/04/29/finding-un-merged-commits-with-git-cherry/" />
  <meta property="og:image" content="http://sdqali.in/map[feature:/images/threaded-blue-on-black-cropped.jpg]" />
  <body>

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Sadique Ali</a>
    </div>

    
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/">Home</a> </li>
        <li><a href="/blog/">Blog</a> </li>
        <li><a href="/about">About</a> </li>
        <li><a href="/index.xml">Atom Feed</a> </li>
        <li><a href="https://github.com/sdqali">GitHub</a> </li>
        <li><a href="https://twitter.com/sdqali">Twitter</a> </li>
        <li><a href="https://www.linkedin.com/in/sdqali">LinkedIn</a> </li>
      </ul>
    </div>
    
  </div>
  
</nav>




    
    
    <header class="intro-header">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="site-heading">
              <h1> Finding un-merged commits with git cherry</h1>
              <span class="meta">Sun, Apr 29, 2012</span>
            </div>
          </div>
        </div>
      </div>
    </header>


    
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><br />In a project
  that I was a part of in the recent past, we used Story
  Branching. While it afforded us flexibility in pulling and pushing
  stories in and out of releases, it has given us some scares in the
  past. Somebody makes commits against a story, but the commit does not
  get merged to the correct release branch where it is supposed to go or
  gets merged to another release. The solution was to hunt down the
  commits that are missing or have creeped in.<br /><br />This is where
  the <i><a href="http://linux.die.net/man/1/git-cherry"
            target="_blank"><b>git cherry</b></a></i> command is
  useful. Git cherry finds commits not merged from a branch to
  another. From the man
  page:<br /><blockquote class="tr_bq">&nbsp;"Every commit that doesn't
    exist in the &lt;upstream&gt; branch has its id (sha1) reported,
    prefixed by a symbol. The ones that have equivalent change already
    in the &lt;upstream&gt; branch&nbsp;are prefixed with a minus (-)
    sign, and those that only exist in the &lt;head&gt; branch are
    prefixed with a plus (+) symbol"</blockquote><br />

<!--more-->

Consider the following example. I have two branches - master and release-23.<br /><br /><script src="https://gist.github.com/2549851.js?file=gistfile1.sh"></script><br /><br />The branch release-23 has three commits:<br /><br /><script src="https://gist.github.com/2549874.js?file=gistfile1.sh"></script><br /><br />The branch master have two commits:<br /><br /><script src="https://gist.github.com/2549880.js?file=gistfile1.sh"></script><br /><br /><br /><ul style="text-align: left;"><li>Commit <i>1afda04ccbf2f834663ca8ec3eaf6e3b917581fb (Added foo)</i> is present in both branches.</li><li>Commit <i>2a446b1a19253a69c4bb133eedb311c14b2906e8 (Added bar)</i> in the release-23 branch was merged to master, but the commit message was later ammended and its sha became <i>8c71e1b2232c1a524e1de20553180676fb971f86 (Amended. This was Added bar)</i>.</li><li>Commit <i>f06e4df25724ad0dd51702a10f075d39368e1963 (Added zoom)</i> is present only in the release-23 branch.</li></ul><br /><br />If we do a <i><b>git cherry</b></i> now with master as the upstream and release-23 as head:<br /><br /><script src="https://gist.github.com/2549897.js?file=gistfile1.sh"></script><br /><br />This tells us that<br /><br /><ol style="text-align: left;"><li>An equivalent of commit <i>2a446b1a19253a69c4bb133eedb311c14b2906e8 (Added bar)</i> is present in the master branch, as indicated by the (-) sign.</li><li>Commit <i>f06e4df25724ad0dd51702a10f075d39368e1963 (Added zoom)</i> is present only in the release-23 branch, as indicated by the (+) sign.</li></ol><br /><br />If we were to do <i><b>git cherry</b></i> the other way around, ie. with release-23 as the upstream and master as the head:<br /><br /><script src="https://gist.github.com/2549909.js?file=gistfile1.sh"></script><br /><br />This tells us that<br /><br /><ol style="text-align: left;"><li>An equivalent of commit <i>8c71e1b2232c1a524e1de20553180676fb971f86 (Amended. This was Added bar)</i> is present in the master branch, as indicated by the (-) sign.</li><li>There are no commits in master that are not present in release-23.</li></ol><br /><div>That is pretty much what the <b><i>git cherry</i></b> command does.</div></div></div>

            <p class="comments">
  If you have questions or comments about this blog post, you can get in touch with me on Twitter <a href="https://twitter.com/sdqali">@sdqali</a>.
</p>

          </div>
        </div>
      </div>
    </article>

    <hr>

    
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          <li>
            <a href="https://twitter.com/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/sdqali">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="/index.xml">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        </ul>
        <p class="copyright text-muted">&copy; All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>


<script src="/js/jquery.js"></script>


<script src="/js/bootstrap.min.js"></script>


<script src="/js/clean-blog.min.js"></script>

<script src="http://sdqali.in/js/keen.min.3.3.0.js" type="text/javascript"></script>
<script src="http://sdqali.in/js/parseuri.js" type="text/javascript"></script>
<script src="http://sdqali.in/js/ua-parser.min.js" type="text/javascript
"></script>
 <script src="http://sdqali.in/js/Math.uuid.js" type="text/javascript"></script>
<script src="http://sdqali.in/js/analytics.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86967633-1', 'auto');
  ga('send', 'pageview');

</script>


  </body>
</html>
