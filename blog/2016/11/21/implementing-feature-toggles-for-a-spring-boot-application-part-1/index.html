<!DOCTYPE html5>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" prefix="og: http://ogp.me/ns#">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Programming, Software Development, Java Development, Coding" name="keywords">
    <meta name="author" content="Sadique Ali">

    
    
      
    
    

    <title>Implementing feature toggles for a Spring Boot application - Part 1 - {code that works} by Sadique Ali</title>

    
    
    

</head>

  <meta name="description" content="In one of our recent projects at work, we implemented feature toggles for a Spring MVC / Angular JS code base and this series of blog posts discusses our motivations and requirements, the approach we took and what we learned from it." />
  
    <meta content="development, code, feature-toggles, java, spring" name="keywords">
  

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@sdqali">
  <meta name="twitter:creator" content="@sdqali">
  <meta name="twitter:title" content="Implementing feature toggles for a Spring Boot application - Part 1">
  <meta name="twitter:description" content="In one of our recent projects at work, we implemented feature toggles for a Spring MVC / Angular JS code base and this series of blog posts discusses our motivations and requirements, the approach we took and what we learned from it.">
  <meta name="twitter:image" content="https://sdqali.in/images/feature-toggles.png">

  <meta property="og:title" content="Implementing feature toggles for a Spring Boot application - Part 1" />
  <meta property="og:description" content="In one of our recent projects at work, we implemented feature toggles for a Spring MVC / Angular JS code base and this series of blog posts discusses our motivations and requirements, the approach we took and what we learned from it." itemprop="description"/>
  <meta property="og:url" content="https://sdqali.in/blog/2016/11/21/implementing-feature-toggles-for-a-spring-boot-application-part-1/" />
  <meta property="og:image" content="https://sdqali.in/images/feature-toggles.png" />
  <body>

    <nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
  <ul >
    <li aria-hidden="true"><a href="/">Home</a> </li>
    <li><a href="/blog/">Blog</a> </li>
    <li><a href="/about">About</a> </li>
    <li><a href="/index.xml">Atom Feed</a> </li>
    <li><a href="https://github.com/sdqali">GitHub</a> </li>
    <li><a href="https://twitter.com/sdqali">Twitter</a> </li>
    <li><a href="https://www.linkedin.com/in/sdqali">LinkedIn</a> </li>
  </ul>
</nav>




		
		
		<header itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div >
					<h1> Implementing feature toggles for a Spring Boot application - Part 1</h1>
					<span >Mon, Nov 21, 2016</span>
					<div class="tag-list">
						<span  aria-hidden="true"></span>
						
						
						
						
							<a class="tag" href="/tags/code">code</a>
					  
						
						
							<a class="tag" href="/tags/feature-toggles">feature-toggles</a>
					  
						
						
							<a class="tag" href="/tags/java">java</a>
					  
						
						
							<a class="tag" href="/tags/spring">spring</a>
					  
						
					</div>
				</div>
    </header>


    
    <article>
      <div itemprop="mainContentOfPage"
           itemscope="itemscope" itemtype="http://schema.org/WebPageElement">
        <div>
          <p>In one of our recent projects at work, we implemented feature toggles for a Spring MVC / Angular JS code base and this <a href="/series/feature-toggles">series of blog posts</a> discusses our motivations and requirements, the approach we took and what we learned from it.</p>

<h2 id="introduction">Introduction</h2>

<p>Feature Toggles are a mechanism to change the behavior of software without having to re-deploy code. Pete Hogdson has a comprehensive <a href="http://martinfowler.com/articles/feature-toggles.html">blog post</a> explaining the complexities of feature toggles.</p>

<p><img src="/images/feature-toggles.svg" alt="Feature toggles" title="Feature toggles" /></p>

<h2 id="requirements">Requirements</h2>

<p>Our application is a Spring Boot web application that gets deployed in a Tomcat instance. The application is deployed via Chef and chef sets up the appropriate configuration parameters for the application as Tomcat <a href="https://tomcat.apache.org/tomcat-8.0-doc/config/context.html#Environment_Entries">Environment</a> entries. Since feature toggles are ultimately application parameters <sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>, we started by setting them as Tomcat environment variables. Having considered this, we identified the following requirements:</p>

<ul>
<li>The ability to toggle dependency injection. For example, in some environments, we wanted to use Redis to store our sessions, while in some test environments, they were to be stored in memory.</li>
<li>Ability to toggle entire Spring Controllers or individual controller methods.</li>
<li>The ability to expose the state of feature toggles to our front end so that Angular JS components can use the feature toggles.</li>
</ul>

<h2 id="our-initial-approach">Our initial approach</h2>

<h3 id="toggling-dependency-injection">Toggling dependency injection.</h3>

<p>We started by using configuration parameters with the <code>feature</code> prefix to toggle features. With this convention in place, we started using the <code>@ConditionalOnProperty</code> annotation in our configuration classes to toggle the beans that got wired up. For example, to toggle between Redis and in-memory store for sessions, we ended up with the following configuration:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@Configuration</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">AppConfig</span> <span style="color:#555">{</span>
  <span style="color:#99f">@Bean</span>
  <span style="color:#99f">@ConditionalOnProperty</span><span style="color:#555">(</span>value <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.redis.session.store&#34;</span><span style="color:#555">,</span> havingValue <span style="color:#555">=</span> <span style="color:#c30">&#34;false&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> SessionRepository <span style="color:#c0f">mapSessionRepository</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">new</span> MapSessionRepository<span style="color:#555">();</span>
  <span style="color:#555">}</span>

  <span style="color:#99f">@Bean</span>
  <span style="color:#99f">@ConditionalOnProperty</span><span style="color:#555">(</span>value <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.redis.session.store&#34;</span><span style="color:#555">,</span> havingValue <span style="color:#555">=</span> <span style="color:#c30">&#34;true&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> SessionRepository <span style="color:#c0f">redisSessionRepository</span><span style="color:#555">(</span>RedisConnectionFactory factory<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">new</span> RedisOperationsSessionRepository<span style="color:#555">(</span>factory<span style="color:#555">);</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<h3 id="toggling-individual-controller-methods">Toggling individual controller methods</h3>

<p>In order to prevent end points defined by controllers and controller methods that are toggled off from being accessed, we decided to configure a <code>HandlerInterceptor</code> <sup class="footnote-ref" id="fnref:2"><a href="#fn:2">2</a></sup> to intercept requests to these end points.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">FeatureInterceptor</span> <span style="color:#069;font-weight:bold">implements</span> HandlerInterceptor <span style="color:#555">{</span>
  <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">final</span> FeatureRepository featureRepository<span style="color:#555">;</span>

  <span style="color:#069;font-weight:bold">public</span> <span style="color:#c0f">FeatureInterceptor</span><span style="color:#555">(</span>FeatureRepository featureRepository<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">this</span><span style="color:#555">.</span><span style="color:#309">featureRepository</span> <span style="color:#555">=</span> featureRepository<span style="color:#555">;</span>
  <span style="color:#555">}</span>

  <span style="color:#99f">@Override</span>
  <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">preHandle</span><span style="color:#555">(</span>HttpServletRequest httpServletRequest<span style="color:#555">,</span> HttpServletResponse httpServletResponse<span style="color:#555">,</span> Object handler<span style="color:#555">)</span> <span style="color:#069;font-weight:bold">throws</span> Exception <span style="color:#555">{</span>
    HandlerMethod handlerMethod <span style="color:#555">=</span> <span style="color:#555">(</span>HandlerMethod<span style="color:#555">)</span> handler<span style="color:#555">;</span>
    FeatureToggle methodAnnotation <span style="color:#555">=</span> handlerMethod<span style="color:#555">.</span><span style="color:#309">getMethodAnnotation</span><span style="color:#555">(</span>FeatureToggle<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">);</span>
    <span style="color:#069;font-weight:bold">if</span> <span style="color:#555">(</span>methodAnnotation <span style="color:#555">==</span> <span style="color:#069;font-weight:bold">null</span><span style="color:#555">)</span> <span style="color:#555">{</span>
      <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
    <span style="color:#555">}</span>

    <span style="color:#069;font-weight:bold">if</span><span style="color:#555">(</span>featureRepository<span style="color:#555">.</span><span style="color:#309">isOn</span><span style="color:#555">(</span>methodAnnotation<span style="color:#555">.</span><span style="color:#309">feature</span><span style="color:#555">())</span> <span style="color:#555">==</span> <span style="color:#069;font-weight:bold">null</span><span style="color:#555">)</span> <span style="color:#555">{</span>
      <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
    <span style="color:#555">}</span>

    <span style="color:#069;font-weight:bold">if</span><span style="color:#555">(</span>methodAnnotation<span style="color:#555">.</span><span style="color:#309">expectedToBeOn</span><span style="color:#555">()</span> <span style="color:#555">==</span> featureRepository<span style="color:#555">.</span><span style="color:#309">isOn</span><span style="color:#555">(</span>methodAnnotation<span style="color:#555">.</span><span style="color:#309">feature</span><span style="color:#555">()))</span> <span style="color:#555">{</span>
      <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
    <span style="color:#555">}</span>

    httpServletResponse<span style="color:#555">.</span><span style="color:#309">setStatus</span><span style="color:#555">(</span>HttpServletResponse<span style="color:#555">.</span><span style="color:#309">SC_NOT_FOUND</span><span style="color:#555">);</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">false</span><span style="color:#555">;</span>
  <span style="color:#555">}</span>

  <span style="color:#99f">@Override</span>
  <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">postHandle</span><span style="color:#555">(</span>HttpServletRequest httpServletRequest<span style="color:#555">,</span> HttpServletResponse httpServletResponse<span style="color:#555">,</span> Object o<span style="color:#555">,</span> ModelAndView modelAndView<span style="color:#555">)</span> <span style="color:#069;font-weight:bold">throws</span> Exception <span style="color:#555">{</span>

  <span style="color:#555">}</span>

  <span style="color:#99f">@Override</span>
  <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">afterCompletion</span><span style="color:#555">(</span>HttpServletRequest httpServletRequest<span style="color:#555">,</span> HttpServletResponse httpServletResponse<span style="color:#555">,</span> Object o<span style="color:#555">,</span> Exception e<span style="color:#555">)</span> <span style="color:#069;font-weight:bold">throws</span> Exception <span style="color:#555">{</span>

  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>This feature interceptor uses the <code>FeatureToggle</code> looks for the annotation, and the looks at a feature repository to see if the state of the feature flag is set to what the annotation expects and if it does not, returns a 404. The annotation has two attributes - <code>isOn</code> and <code>feature</code>.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@Target</span><span style="color:#555">({</span>ElementType<span style="color:#555">.</span><span style="color:#309">TYPE</span><span style="color:#555">,</span> ElementType<span style="color:#555">.</span><span style="color:#309">METHOD</span><span style="color:#555">})</span>
<span style="color:#99f">@Retention</span><span style="color:#555">(</span>RetentionPolicy<span style="color:#555">.</span><span style="color:#309">RUNTIME</span><span style="color:#555">)</span>
<span style="color:#99f">@Documented</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#99f">@interface</span> FeatureToggle <span style="color:#555">{</span>
  String <span style="color:#c0f">feature</span><span style="color:#555">();</span>

  <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">expectedToBeOn</span><span style="color:#555">()</span> <span style="color:#069;font-weight:bold">default</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
<span style="color:#555">}</span></code></pre></div>
<p>This annotation can be used on a controller method as follows:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@RestController</span>
<span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;/hello&#34;</span><span style="color:#555">)</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">MessageController</span> <span style="color:#555">{</span>
  <span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;&#34;</span><span style="color:#555">)</span>
  <span style="color:#99f">@FeatureToggle</span><span style="color:#555">(</span>feature <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.hello&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> Map <span style="color:#c0f">hello</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> Collections<span style="color:#555">.</span><span style="color:#309">singletonMap</span><span style="color:#555">(</span><span style="color:#c30">&#34;message&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;hello world!&#34;</span><span style="color:#555">);</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>The <code>FeatureRepository</code> has to look at all the properties that are available in the applications environment and filter out the ones that start with <code>feature.</code>.</p>

<p>Collecting all the properties available in an environment is <a href="https://stackoverflow.com/questions/23506471/spring-access-all-environment-properties-as-a-map-or-properties-object">surprisingly complex</a>, owing to the number of ways properties can be injected. Based on the approach discussed in that question, we can create a <code>FeatureRepository</code> as follows:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">FeatureRepository</span> <span style="color:#555">{</span>
  <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">static</span> <span style="color:#069;font-weight:bold">final</span> String FEATURE_PREFIX <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.&#34;</span><span style="color:#555">;</span>
  <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">final</span> Environment env<span style="color:#555">;</span>

  <span style="color:#069;font-weight:bold">public</span> <span style="color:#c0f">FeatureRepository</span><span style="color:#555">(</span>Environment env<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">this</span><span style="color:#555">.</span><span style="color:#309">env</span> <span style="color:#555">=</span> env<span style="color:#555">;</span>
  <span style="color:#555">}</span>

  <span style="color:#069;font-weight:bold">public</span> Set<span style="color:#555">&lt;</span>String<span style="color:#555">&gt;</span> <span style="color:#c0f">featureKeys</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Object<span style="color:#555">&gt;</span> map <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">new</span> HashMap<span style="color:#555">();</span>
    <span style="color:#069;font-weight:bold">for</span><span style="color:#555">(</span>Iterator it <span style="color:#555">=</span> <span style="color:#555">((</span>AbstractEnvironment<span style="color:#555">)</span> env<span style="color:#555">).</span><span style="color:#309">getPropertySources</span><span style="color:#555">().</span><span style="color:#309">iterator</span><span style="color:#555">();</span> it<span style="color:#555">.</span><span style="color:#309">hasNext</span><span style="color:#555">();</span> <span style="color:#555">)</span> <span style="color:#555">{</span>
      PropertySource propertySource <span style="color:#555">=</span> <span style="color:#555">(</span>PropertySource<span style="color:#555">)</span> it<span style="color:#555">.</span><span style="color:#309">next</span><span style="color:#555">();</span>
      <span style="color:#069;font-weight:bold">if</span> <span style="color:#555">(</span>propertySource <span style="color:#069;font-weight:bold">instanceof</span> MapPropertySource<span style="color:#555">)</span> <span style="color:#555">{</span>
        map<span style="color:#555">.</span><span style="color:#309">putAll</span><span style="color:#555">(((</span>MapPropertySource<span style="color:#555">)</span> propertySource<span style="color:#555">).</span><span style="color:#309">getSource</span><span style="color:#555">());</span>
      <span style="color:#555">}</span>
    <span style="color:#555">}</span>
    <span style="color:#069;font-weight:bold">return</span> map<span style="color:#555">.</span><span style="color:#309">keySet</span><span style="color:#555">().</span><span style="color:#309">stream</span><span style="color:#555">()</span>
        <span style="color:#555">.</span><span style="color:#309">filter</span><span style="color:#555">(</span>k <span style="color:#555">-&gt;</span> k<span style="color:#555">.</span><span style="color:#309">startsWith</span><span style="color:#555">(</span>FEATURE_PREFIX<span style="color:#555">))</span>
        <span style="color:#555">.</span><span style="color:#309">collect</span><span style="color:#555">(</span>Collectors<span style="color:#555">.</span><span style="color:#309">toSet</span><span style="color:#555">());</span>
  <span style="color:#555">}</span>

  <span style="color:#069;font-weight:bold">public</span> Boolean <span style="color:#c0f">isOn</span><span style="color:#555">(</span>String key<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> allFeatures<span style="color:#555">().</span><span style="color:#309">get</span><span style="color:#555">(</span>key<span style="color:#555">);</span>
  <span style="color:#555">}</span>

  <span style="color:#069;font-weight:bold">public</span> Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Boolean<span style="color:#555">&gt;</span> <span style="color:#c0f">allFeatures</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> featureKeys<span style="color:#555">().</span><span style="color:#309">stream</span><span style="color:#555">().</span><span style="color:#309">collect</span><span style="color:#555">(</span>Collectors<span style="color:#555">.</span><span style="color:#309">toMap</span><span style="color:#555">(</span>k <span style="color:#555">-&gt;</span> k<span style="color:#555">,</span> k <span style="color:#555">-&gt;</span> Boolean<span style="color:#555">.</span><span style="color:#309">parseBoolean</span><span style="color:#555">(</span>env<span style="color:#555">.</span><span style="color:#309">getProperty</span><span style="color:#555">(</span>k<span style="color:#555">))));</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<h3 id="toggling-entire-controllers">Toggling entire controllers</h3>

<p>Since Spring controllers are wired up as beans, the <code>ConditionalOnProperty</code> annotation can be used to toggle on entire controllers.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@RestController</span>
<span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;/foo&#34;</span><span style="color:#555">)</span>
<span style="color:#99f">@ConditionalOnProperty</span><span style="color:#555">(</span>value <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.foo&#34;</span><span style="color:#555">,</span> havingValue <span style="color:#555">=</span> <span style="color:#c30">&#34;true&#34;</span><span style="color:#555">)</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">FooController</span> <span style="color:#555">{</span>
  <span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> Map <span style="color:#c0f">hello</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> Collections<span style="color:#555">.</span><span style="color:#309">singletonMap</span><span style="color:#555">(</span><span style="color:#c30">&#34;message&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;hello foo!&#34;</span><span style="color:#555">);</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>However, now we have two different mechanisms to toggle methods and controllers. It will be nice to consolidate them and doing so will allow us to use the same mechanism for toggling beans. This can be done by annotating <code>FeatureToggle</code> with the <a href="/blog/2015/12/06/implementing-custom-annotations-for-spring-mvc/">meta annotation</a> <code>Conditional</code> that looks up the state of feature toggles using the custom condition <code>FeatureCondition</code>. This will change <code>FeatureToggle</code> to:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@Target</span><span style="color:#555">({</span>ElementType<span style="color:#555">.</span><span style="color:#309">TYPE</span><span style="color:#555">,</span> ElementType<span style="color:#555">.</span><span style="color:#309">METHOD</span><span style="color:#555">})</span>
<span style="color:#99f">@Retention</span><span style="color:#555">(</span>RetentionPolicy<span style="color:#555">.</span><span style="color:#309">RUNTIME</span><span style="color:#555">)</span>
<span style="color:#99f">@Documented</span>
<span style="color:#99f">@Conditional</span><span style="color:#555">(</span>FeatureCondition<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">)</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#99f">@interface</span> FeatureToggle <span style="color:#555">{</span>
  String <span style="color:#c0f">feature</span><span style="color:#555">();</span>

  <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">expectedToBeOn</span><span style="color:#555">()</span> <span style="color:#069;font-weight:bold">default</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
<span style="color:#555">}</span></code></pre></div>
<p>The <code>FearureCondition</code> uses the meta annotation attributes provided to it and the environment to decide the state to be returned:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">FeatureCondition</span> <span style="color:#069;font-weight:bold">implements</span> Condition <span style="color:#555">{</span>
  <span style="color:#99f">@Override</span>
  <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">matches</span><span style="color:#555">(</span>ConditionContext conditionContext<span style="color:#555">,</span> AnnotatedTypeMetadata annotatedTypeMetadata<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">if</span><span style="color:#555">(</span>annotatedTypeMetadata<span style="color:#555">.</span><span style="color:#309">isAnnotated</span><span style="color:#555">(</span>FeatureToggle<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">.</span><span style="color:#309">getCanonicalName</span><span style="color:#555">()))</span> <span style="color:#555">{</span>
      Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Object<span style="color:#555">&gt;</span> annotationAttributes <span style="color:#555">=</span> annotatedTypeMetadata
          <span style="color:#555">.</span><span style="color:#309">getAnnotationAttributes</span><span style="color:#555">(</span>FeatureToggle<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">.</span><span style="color:#309">getCanonicalName</span><span style="color:#555">());</span>
      String feature <span style="color:#555">=</span> <span style="color:#555">(</span>String<span style="color:#555">)</span> annotationAttributes<span style="color:#555">.</span><span style="color:#309">get</span><span style="color:#555">(</span><span style="color:#c30">&#34;feature&#34;</span><span style="color:#555">);</span>
      <span style="color:#078;font-weight:bold">boolean</span> expectedToBeOn <span style="color:#555">=</span> Boolean<span style="color:#555">.</span><span style="color:#309">parseBoolean</span><span style="color:#555">(</span>String<span style="color:#555">.</span><span style="color:#309">valueOf</span><span style="color:#555">(</span>annotationAttributes<span style="color:#555">.</span><span style="color:#309">get</span><span style="color:#555">(</span><span style="color:#c30">&#34;expectedToBeOn&#34;</span><span style="color:#555">)));</span>
      <span style="color:#078;font-weight:bold">boolean</span> isOn <span style="color:#555">=</span> Boolean<span style="color:#555">.</span><span style="color:#309">parseBoolean</span><span style="color:#555">(</span>conditionContext<span style="color:#555">.</span><span style="color:#309">getEnvironment</span><span style="color:#555">().</span><span style="color:#309">getProperty</span><span style="color:#555">(</span>feature<span style="color:#555">));</span>
      <span style="color:#069;font-weight:bold">return</span> expectedToBeOn <span style="color:#555">==</span> isOn<span style="color:#555">;</span>
    <span style="color:#555">}</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>Now that we have a unified mechanism to toggle controllers, beans and controller methods, we can use this annotation. The <code>FooController</code> would now look like this:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@RestController</span>
<span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;/foo&#34;</span><span style="color:#555">)</span>
<span style="color:#99f">@FeatureToggle</span><span style="color:#555">(</span>feature <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.foo&#34;</span><span style="color:#555">)</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">FooController</span> <span style="color:#555">{</span>
  <span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span><span style="color:#c30">&#34;&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> Map <span style="color:#c0f">hello</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> Collections<span style="color:#555">.</span><span style="color:#309">singletonMap</span><span style="color:#555">(</span><span style="color:#c30">&#34;message&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;hello foo!&#34;</span><span style="color:#555">);</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>And our <code>AppConfig</code> will be like this:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@Configuration</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">AppConfig</span> <span style="color:#069;font-weight:bold">extends</span> WebMvcConfigurerAdapter <span style="color:#555">{</span>
  <span style="color:#99f">@Autowired</span>
  Environment env<span style="color:#555">;</span>

  <span style="color:#99f">@Bean</span>
  <span style="color:#99f">@FeatureToggle</span><span style="color:#555">(</span>feature <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.redis.session.store&#34;</span><span style="color:#555">,</span> expectedToBeOn <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">false</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> SessionRepository <span style="color:#c0f">mapSessionRepository</span><span style="color:#555">()</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">new</span> MapSessionRepository<span style="color:#555">();</span>
  <span style="color:#555">}</span>

  <span style="color:#99f">@Bean</span>
  <span style="color:#99f">@FeatureToggle</span><span style="color:#555">(</span>feature <span style="color:#555">=</span> <span style="color:#c30">&#34;feature.redis.session.store&#34;</span><span style="color:#555">)</span>
  <span style="color:#069;font-weight:bold">public</span> SessionRepository <span style="color:#c0f">redisSessionRepository</span><span style="color:#555">(</span>RedisConnectionFactory factory<span style="color:#555">)</span> <span style="color:#555">{</span>
    <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">new</span> RedisOperationsSessionRepository<span style="color:#555">(</span>factory<span style="color:#555">);</span>
  <span style="color:#555">}</span>

  <span style="color:#99f">@Override</span>
  <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">void</span> <span style="color:#c0f">addInterceptors</span><span style="color:#555">(</span>InterceptorRegistry registry<span style="color:#555">)</span> <span style="color:#555">{</span>
    registry<span style="color:#555">.</span><span style="color:#309">addInterceptor</span><span style="color:#555">(</span><span style="color:#069;font-weight:bold">new</span> FeatureInterceptor<span style="color:#555">(</span><span style="color:#069;font-weight:bold">new</span> FeatureRepository<span style="color:#555">(</span>env<span style="color:#555">)));</span>
    <span style="color:#069;font-weight:bold">super</span><span style="color:#555">.</span><span style="color:#309">addInterceptors</span><span style="color:#555">(</span>registry<span style="color:#555">);</span>
  <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>In the second part of <a href="/series/feature-toggles">this series</a>, we will explore how the feature toggle can be exposed to the front end and how to consume this and use it for toggling features in the Angular components.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">While feature toggles are just like any other application parameter, treating them as such in our stack resulted in errors, which we address later in this series.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">HandlerInterceptor
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
</ol>
</div>
        </div>
        <aside>
          <p class="comments">
  If you have questions or comments about this blog post, you can get in touch with me on Twitter <a href="https://twitter.com/sdqali">@sdqali</a>.
</p>

        </aside>
        <aside>
          <h3>If you liked this post, you'll also like...</h3>
          <ul class="related-posts">
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2019/03/23/understanding-trailing-processing-in-sas-input/?utm_source=site&amp;utm_medium=related">Understanding trailing @ processing in SAS input</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2019/03/23/importing-the-sasuser-datasets-in-sas-studio/?utm_source=site&amp;utm_medium=related">Importing the SASUSER datasets in SAS Studio</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/06/09/formatting-java-instant-for-resolutions/?utm_source=site&amp;utm_medium=related">Formatting Java Instant for resolutions</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/05/04/freebuilder-plugin-for-intellij/?utm_source=site&amp;utm_medium=related">FreeBuilder plugin for IntelliJ</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/03/22/a-jackson-and-freebuilder-quirk/?utm_source=site&amp;utm_medium=related">A Jackson and FreeBuilder quirk</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2017/08/17/uploading-a-standalone-artifact-to-nexus-3/?utm_source=site&amp;utm_medium=related">Uploading a standalone artifact to Nexus 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/29/implementing-feature-toggles-for-a-spring-boot-application-part-4/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 4</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/28/implementing-feature-toggles-for-a-spring-boot-application-part-3/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/26/implementing-feature-toggles-for-a-spring-boot-application-part-2/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 2</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/11/setting-up-a-secure-etcd-cluster-behind-a-proxy/?utm_source=site&amp;utm_medium=related">Setting up a secure etcd cluster behind a proxy</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/04/a-very-basic-introduction-to-deploying-a-java-application-using-kubernetes/?utm_source=site&amp;utm_medium=related">A very basic introduction to deploying a Java application using Kubernetes</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/02/handling-deserialization-errors-in-spring-redis-sessions/?utm_source=site&amp;utm_medium=related">Handling Deserialization errors in Spring Redis Sessions</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/20/csrf-protection-with-spring-security-and-angular-js/?utm_source=site&amp;utm_medium=related">CSRF Protection with Spring Security and Angular JS</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/16/controlling-redis-auto-configuration-for-spring-boot-session/?utm_source=site&amp;utm_medium=related">Controlling Redis auto-configuration for Spring Boot Session</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/13/jwt-authentication-with-spring-web-part-5/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 5</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/07/jwt-authentication-with-spring-web-part-4/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 4</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/05/jwt-authentication-with-spring-web-part-3/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/03/jwt-authentication-with-spring-web-part-2/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/02/jwt-authentication-with-spring-web-part-1/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 1</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/06/30/json-logging-for-spring-applications/?utm_source=site&amp;utm_medium=related">JSON logging for Spring applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/06/28/injecting-dependencies-into-a-spring-configuration/?utm_source=site&amp;utm_medium=related">Injecting dependencies into a Spring @Configuration</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/?utm_source=site&amp;utm_medium=related">Filtering responses in Spring MVC</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/24/deprecating-domain-events-in-axon/?utm_source=site&amp;utm_medium=related">Deprecating domain events in Axon</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/19/programmable-exit-codes-for-spring-command-line-applications-2/?utm_source=site&amp;utm_medium=related">Programmable exit codes for spring command line applications - 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/17/programmable-exit-codes-for-spring-command-line-applications/?utm_source=site&amp;utm_medium=related">Programmable exit codes for Spring command line applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/01/29/using-custom-arguments-in-spring-mvc-controllers/?utm_source=site&amp;utm_medium=related">Using custom arguments in Spring MVC controllers</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/16/authentication-for-apache-camel-http-components/?utm_source=site&amp;utm_medium=related">Authentication for Apache Camel HTTP components</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/14/thoughts-on-open-graph-tags/?utm_source=site&amp;utm_medium=related">Thoughts on Open Graph tags</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/11/integration-testing-spring-command-line-applications/?utm_source=site&amp;utm_medium=related">Integration testing Spring command line applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/10/integration-testing-challenges-for-non-web-spring-applications/?utm_source=site&amp;utm_medium=related">Integration testing challenges for non-web Spring applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/07/how-thinking-of-documentation-as-legislation-helped-me-become-a-better-programmer/?utm_source=site&amp;utm_medium=related">How thinking of Documentation as Legislation helped me become a better programmer</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/06/implementing-custom-annotations-for-spring-mvc/?utm_source=site&amp;utm_medium=related">Implementing custom annotations for Spring MVC</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/04/validating-requestparams-and-pathvariables-in-spring-mvc/?utm_source=site&amp;utm_medium=related">Validating RequestParams and PathVariables in Spring MVC</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/11/24/testing-async-responses-using-mockmvc/?utm_source=site&amp;utm_medium=related">Testing async responses using MockMvc</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/06/09/running-multiple-applications-in-the-same-tomcat-installation/?utm_source=site&amp;utm_medium=related">Running multiple applications in the same Tomcat installation</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/05/21/making-sense-of-cloud-foundry-security-group-declarations/?utm_source=site&amp;utm_medium=related">Making sense of Cloud Foundry security group declarations</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/05/20/configuring-cloud-foundry-java-memory-parameters/?utm_source=site&amp;utm_medium=related">Configuring Cloud Foundry Java Memory Parameters</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2014/08/02/importing-the-yelp-dataset-into-mongodb/?utm_source=site&amp;utm_medium=related">Importing the Yelp dataset into MongoDB</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2014/03/20/clojure-dojo-levenshtein-edit-distance/?utm_source=site&amp;utm_medium=related">Clojure Dojo - Levenshtein edit distance</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2014/02/17/a-simple-jmeter-test-with-login/?utm_source=site&amp;utm_medium=related">A simple JMeter test with login</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/13/implementing-rate-limiting-in-rails-part-2/?utm_source=site&amp;utm_medium=related">Implementing Rate Limiting in Rails - Part 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/12/implementing-rate-limiting-in-rails-part-1/?utm_source=site&amp;utm_medium=related">Implementing Rate Limiting in Rails - Part 1</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/07/python-hack-dynamically-override-an-objects-attribute/?utm_source=site&amp;utm_medium=related">Python Hack - Dynamically override an object&#39;s attribute</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/03/fitting-an-image-in-to-a-canvas-object/?utm_source=site&amp;utm_medium=related">Fitting an Image in to a Canvas object</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/01/accessing-environment-variables-in-gradle/?utm_source=site&amp;utm_medium=related">Accessing Environment Variables in Gradle</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/01/reading-user-input-in-gradle-scripts/?utm_source=site&amp;utm_medium=related">Reading user input in Gradle scripts</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/01/ruby-named-capture-groups-and-local-variables/?utm_source=site&amp;utm_medium=related">Ruby, Named Capture Groups and Local Variables</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/29/named-capture-groups-in-regular-expressions/?utm_source=site&amp;utm_medium=related">Named Capture Groups in Regular Expressions</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/26/decomposing-urls-in-python/?utm_source=site&amp;utm_medium=related">Decomposing URLs in Python</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/15/shared-history-in-bash/?utm_source=site&amp;utm_medium=related">Shared history in Bash</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/12/managing-gemsets-in-rbenv/?utm_source=site&amp;utm_medium=related">Managing Gemsets in Rbenv</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/08/looking-up-compiler-params-used-to-compile-a-ruby-version/?utm_source=site&amp;utm_medium=related">Looking up Compiler params used to compile a Ruby version</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/08/22/navigating-stacktraces-in-emacs/?utm_source=site&amp;utm_medium=related">Navigating Stacktraces in Emacs</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/08/15/pythons-bool-type/?utm_source=site&amp;utm_medium=related">Python&#39;s bool type</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/08/02/graph-databases-1-modeling/?utm_source=site&amp;utm_medium=related">Graph databases 1 - Modeling</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/07/31/validating-json-in-emacs/?utm_source=site&amp;utm_medium=related">Validating JSON in Emacs</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/29/emacs-hack-viewing-git-logs-while-composing-commit-messages/?utm_source=site&amp;utm_medium=related">Emacs hack: Viewing Git logs while composing commit messages</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/14/configure-gits-comment-character/?utm_source=site&amp;utm_medium=related">Configure Git&#39;s comment character</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/11/my-experience-working-remotely/?utm_source=site&amp;utm_medium=related">My experience working remotely</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/08/oh-i-can-build-it-in.../?utm_source=site&amp;utm_medium=related">Oh I can build it in...</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/05/javascript-clipboard-access-and-hidden-flash-widgets/?utm_source=site&amp;utm_medium=related">JavaScript, clipboard access and hidden flash widgets</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/01/22/reducing-emacs-startup-time-while-committing/?utm_source=site&amp;utm_medium=related">Reducing Emacs startup time while committing</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/29/my-first-firefox-plugin-getcache-view-cached-version-of-the-current-page/?utm_source=site&amp;utm_medium=related">My first Firefox plugin: GetCache - View cached version of the current page</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/28/getcache-a-chrome-plugin-to-view-cached-version-of-the-current-page/?utm_source=site&amp;utm_medium=related">GetCache - A Chrome plugin to view cached version of the current page</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/27/on-rest-content-type-google-chrome-and-caching/?utm_source=site&amp;utm_medium=related">On REST, Content-Type, Google Chrome and Caching</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/22/how-browsers-detect-if-you-are-offline/?utm_source=site&amp;utm_medium=related">How Browsers Detect If You Are Offline</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/08/01/d3.js-workshop/?utm_source=site&amp;utm_medium=related">D3.js Workshop</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/07/21/visualisation-how-european-clubs-dominate-their-leagues/?utm_source=site&amp;utm_medium=related">Visualisation - How European clubs dominate their leagues</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/07/09/understanding-pythons-with-statement/?utm_source=site&amp;utm_medium=related">Understanding Python&#39;s &#34;with&#34; statement</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/07/04/heredocs-in-ruby-and-python/?utm_source=site&amp;utm_medium=related">Heredocs in Ruby and Python</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/25/micro-journal-simple-git-backed-journal-in-python/?utm_source=site&amp;utm_medium=related">Micro Journal - simple Git-backed journal in Python</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/24/vodqa-ncr-maintaining-large-test-suites/?utm_source=site&amp;utm_medium=related">VodQA NCR: Maintaining Large Test Suites</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/06/know-your-tools-dont-shoot-yourself-in-the-foot/?utm_source=site&amp;utm_medium=related">Know Your Tools - Don&#39;t Shoot Yourself in the Foot</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/05/managing-security-certificates-from-the-console-on-windows-mac-os-x-and-linux/?utm_source=site&amp;utm_medium=related">Managing security certificates from the console - on Windows, Mac OS X and Linux</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/05/11/indian-and-pakistani-cricketers-who-make-better-debuts/?utm_source=site&amp;utm_medium=related">Indian and Pakistani cricketers - who make better debuts?</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/05/04/fixing-flyspell-for-emacs-in-mac-os-x/?utm_source=site&amp;utm_medium=related">Fixing Flyspell for Emacs in Mac OS X</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/04/29/finding-un-merged-commits-with-git-cherry/?utm_source=site&amp;utm_medium=related">Finding un-merged commits with git cherry</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/02/03/bullet-proof-jenkins-setup/?utm_source=site&amp;utm_medium=related">Bullet proof Jenkins setup</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/01/17/why-your-project-should-have-a-getting-started-guide./?utm_source=site&amp;utm_medium=related">Why your project should have a Getting Started guide.</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/01/16/debugging-c-sharps-httpwebrequest-100-continue-and-nginx/?utm_source=site&amp;utm_medium=related">Debugging: C Sharp&#39;s HttpWebRequest, 100-Continue and nginx</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/05/17/wikipedia-page-hopping/?utm_source=site&amp;utm_medium=related">Wikipedia Page Hopping</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/03/24/empathy-log-parser/?utm_source=site&amp;utm_medium=related">Empathy Log Parser</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/03/23/binary-signature-art/?utm_source=site&amp;utm_medium=related">Binary Signature Art</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2010/03/16/java-arrays-in-jruby/?utm_source=site&amp;utm_medium=related">Java Arrays in JRuby</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2010/01/09/autorun.py-execute-stuff-on-file-change/?utm_source=site&amp;utm_medium=related">Autorun.py - Execute stuff on file change</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
          </ul>
        </aside>
      </div>
    </article>

    <hr>

    
<footer  itemscope="itemscope" itemtype="http://schema.org/WPFooter">
  <div >
    <div >
      <div >
        <ul >
          <li>
            <a href="https://twitter.com/sdqali">
              <span >Twitter</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/115900084932734914678">
              <span >Google+</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/sdqali">
              <span >LinkedIn</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/sdqali">
              <span >GitHub</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="/index.xml">
              <span >Atom Feed</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
        </ul>
        <p >&copy; All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86967633-1', 'auto');
  ga('send', 'pageview');

</script>

<link rel="stylesheet" href="/style.css"/>

  </body>
</html>
