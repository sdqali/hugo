<!DOCTYPE html5>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" prefix="og: http://ogp.me/ns#">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Programming, Software Development, Java Development, Coding" name="keywords">
    <meta name="author" content="Sadique Ali">

    
    
      
    
    

    <title>Filtering responses in Spring MVC - {code that works} by Sadique Ali</title>

    
    
    

</head>

  <meta name="description" content="Yesterday my colleague Imdad asked if there was a mechanism to add filtering to a Spring MVC end point that responded with JSON. We both started looking at it and this blog post explores a way to do it, albeit for a specific type of responses that was relevant to our discussions." />
  
    <meta content="development, java, spring" name="keywords">
  

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@sdqali">
  <meta name="twitter:creator" content="@sdqali">
  <meta name="twitter:title" content="Filtering responses in Spring MVC">
  <meta name="twitter:description" content="Yesterday my colleague Imdad asked if there was a mechanism to add filtering to a Spring MVC end point that responded with JSON. We both started looking at it and this blog post explores a way to do it, albeit for a specific type of responses that was relevant to our discussions.">
  <meta name="twitter:image" content="https://sdqali.in/images/spring-by-pivotal.png">

  <meta property="og:title" content="Filtering responses in Spring MVC" />
  <meta property="og:description" content="Yesterday my colleague Imdad asked if there was a mechanism to add filtering to a Spring MVC end point that responded with JSON. We both started looking at it and this blog post explores a way to do it, albeit for a specific type of responses that was relevant to our discussions." itemprop="description"/>
  <meta property="og:url" content="https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/" />
  <meta property="og:image" content="https://sdqali.in/images/spring-by-pivotal.png" />
  <body>

    <nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
  <ul >
    <li aria-hidden="true"><a href="/">Home</a> </li>
    <li><a href="/blog/">Blog</a> </li>
    <li><a href="/about">About</a> </li>
    <li><a href="/index.xml">Atom Feed</a> </li>
    <li><a href="https://github.com/sdqali">GitHub</a> </li>
    <li><a href="https://twitter.com/sdqali">Twitter</a> </li>
    <li><a href="https://www.linkedin.com/in/sdqali">LinkedIn</a> </li>
  </ul>
</nav>




		
		
		<header itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div >
					<h1> Filtering responses in Spring MVC</h1>
					<span >Wed, Jun 8, 2016</span>
					<div class="tag-list">
						<span  aria-hidden="true"></span>
						
						
						
						
							<a class="tag" href="/tags/java">java</a>
					  
						
						
							<a class="tag" href="/tags/spring">spring</a>
					  
						
					</div>
				</div>
    </header>


    
    <article>
      <div itemprop="mainContentOfPage"
           itemscope="itemscope" itemtype="http://schema.org/WebPageElement">
        <div>
          <p>Yesterday my colleague <a href="https://twitter.com/imdhmd">Imdad</a> asked if there was a mechanism to add filtering to a Spring MVC end point that responded with JSON. We both started looking at it and this blog post explores a way to do it, albeit for a specific type of responses that was relevant to our discussions.</p>

<p>For the purposes of this blog post, the response of the end point will be a collection of repositories, taken from the GitHub API for the end point <code>https://api.github.com/users/rails/repos</code>. This has the following structure.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">[
  {
    <span style="color:#309;font-weight:bold">&#34;id&#34;</span>: <span style="color:#f60">20544</span>,
    <span style="color:#309;font-weight:bold">&#34;name&#34;</span>: <span style="color:#c30">&#34;account_location&#34;</span>,
    <span style="color:#309;font-weight:bold">&#34;full_name&#34;</span>: <span style="color:#c30">&#34;rails/account_location&#34;</span>,
    <span style="color:#309;font-weight:bold">&#34;owner&#34;</span>: {
      <span style="color:#a00;background-color:#faa">...</span>
    },
    <span style="color:#a00;background-color:#faa">...</span>
    <span style="color:#309;font-weight:bold">&#34;watchers_count&#34;</span>: <span style="color:#f60">70</span>,
    <span style="color:#309;font-weight:bold">&#34;language&#34;</span>: <span style="color:#c30">&#34;Ruby&#34;</span>,
    <span style="color:#309;font-weight:bold">&#34;has_issues&#34;</span>: <span style="color:#069;font-weight:bold">false</span>,
    <span style="color:#309;font-weight:bold">&#34;has_downloads&#34;</span>: <span style="color:#069;font-weight:bold">true</span>,
    <span style="color:#309;font-weight:bold">&#34;has_wiki&#34;</span>: <span style="color:#069;font-weight:bold">false</span>,
    <span style="color:#309;font-weight:bold">&#34;has_pages&#34;</span>: <span style="color:#069;font-weight:bold">false</span>,
    <span style="color:#309;font-weight:bold">&#34;forks_count&#34;</span>: <span style="color:#f60">12</span>,
    <span style="color:#309;font-weight:bold">&#34;mirror_url&#34;</span>: <span style="color:#069;font-weight:bold">null</span>,
    <span style="color:#309;font-weight:bold">&#34;open_issues_count&#34;</span>: <span style="color:#f60">0</span>,
    <span style="color:#309;font-weight:bold">&#34;forks&#34;</span>: <span style="color:#f60">12</span>,
    <span style="color:#309;font-weight:bold">&#34;open_issues&#34;</span>: <span style="color:#f60">0</span>,
    <span style="color:#309;font-weight:bold">&#34;watchers&#34;</span>: <span style="color:#f60">70</span>,
    <span style="color:#309;font-weight:bold">&#34;default_branch&#34;</span>: <span style="color:#c30">&#34;master&#34;</span>
  }
  <span style="color:#a00;background-color:#faa">...</span>
  <span style="color:#a00;background-color:#faa">...</span>
]</code></pre></div>
<p>We have a simple end point that reads a file with this response and responds with a JSON representation of it.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@RestController</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">ReposController</span> <span style="color:#555">{</span>
    <span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span>path <span style="color:#555">=</span> <span style="color:#c30">&#34;/repos&#34;</span><span style="color:#555">,</span> method <span style="color:#555">=</span> GET<span style="color:#555">)</span>
    <span style="color:#069;font-weight:bold">public</span> List <span style="color:#c0f">repos</span><span style="color:#555">()</span> <span style="color:#069;font-weight:bold">throws</span> URISyntaxException<span style="color:#555">,</span> IOException <span style="color:#555">{</span>
        URL url <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">this</span><span style="color:#555">.</span><span style="color:#309">getClass</span><span style="color:#555">().</span><span style="color:#309">getClassLoader</span><span style="color:#555">().</span><span style="color:#309">getResource</span><span style="color:#555">(</span><span style="color:#c30">&#34;repos.json&#34;</span><span style="color:#555">).</span><span style="color:#309">toURI</span><span style="color:#555">().</span><span style="color:#309">toURL</span><span style="color:#555">();</span>

        ObjectMapper objectMapper <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">new</span> ObjectMapper<span style="color:#555">();</span>

        <span style="color:#069;font-weight:bold">return</span> objectMapper<span style="color:#555">.</span><span style="color:#309">readValue</span><span style="color:#555">(</span>url<span style="color:#555">,</span> List<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">);</span>
    <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>What we want to do is to provide a convenient mechanism so that this end point can respond for request made with url parameters which it uses to filter repositories. For example, we expect the request to <code>http://localhost:8080/repos?fork=true&amp;language=Ruby</code> to have a JSON response with an array containing only those repositories that are forks and have Ruby as their primary language. Of course, it is worth pointing out that in actual system, you would want to do these kind of filtering at the data layer instead of the web layer, but this is an exercise to see how we could do it at the Spring layer.</p>

<p>We want our mechanism to be easy to use and I came with annotation that we would use as follows:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">ReposController</span> <span style="color:#555">{</span>
    <span style="color:#99f">@RequestMapping</span><span style="color:#555">(</span>path <span style="color:#555">=</span> <span style="color:#c30">&#34;/repos&#34;</span><span style="color:#555">,</span> method <span style="color:#555">=</span> GET<span style="color:#555">)</span>
    <span style="color:#99f">@JsonFilter</span><span style="color:#555">(</span>keys <span style="color:#555">=</span> <span style="color:#555">{</span><span style="color:#c30">&#34;fork&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;language&#34;</span><span style="color:#555">})</span>
    <span style="color:#069;font-weight:bold">public</span> List <span style="color:#c0f">repos</span><span style="color:#555">()</span> <span style="color:#069;font-weight:bold">throws</span> URISyntaxException<span style="color:#555">,</span> IOException <span style="color:#555">{</span>
      <span style="color:#09f;font-style:italic">// ...
</span><span style="color:#09f;font-style:italic"></span>    <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>The annotation itself takes the following form:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@Target</span><span style="color:#555">(</span>ElementType<span style="color:#555">.</span><span style="color:#309">METHOD</span><span style="color:#555">)</span>
<span style="color:#99f">@Documented</span>
<span style="color:#99f">@Retention</span><span style="color:#555">(</span>RetentionPolicy<span style="color:#555">.</span><span style="color:#309">RUNTIME</span><span style="color:#555">)</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#99f">@interface</span> JsonFilter <span style="color:#555">{</span>
    <span style="color:#09f;font-style:italic">// JSON keys that will be used for filtering
</span><span style="color:#09f;font-style:italic"></span>    String<span style="color:#555">[]</span> <span style="color:#c0f">keys</span><span style="color:#555">()</span> <span style="color:#069;font-weight:bold">default</span> <span style="color:#555">{};</span>
<span style="color:#555">}</span></code></pre></div>
<p>Spring MVC provides a <code>ResponseBodyAdvice</code> <sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup> to customize the response immediately after the execution of a controller method, which is exactly what we want in this situation. The interface expects us to implement two methods.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#99f">@ControllerAdvice</span>
<span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">JsonFilterAdvice</span> <span style="color:#069;font-weight:bold">implements</span> ResponseBodyAdvice<span style="color:#555">&lt;</span>List<span style="color:#555">&gt;</span> <span style="color:#555">{</span>
    <span style="color:#99f">@Override</span>
    <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">supports</span><span style="color:#555">(</span>MethodParameter returnType<span style="color:#555">,</span> Class<span style="color:#555">&lt;?</span> <span style="color:#069;font-weight:bold">extends</span> HttpMessageConverter<span style="color:#555">&lt;?&gt;&gt;</span> converterType<span style="color:#555">)</span> <span style="color:#555">{</span>
        <span style="color:#069;font-weight:bold">return</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
    <span style="color:#555">}</span>

    <span style="color:#99f">@Override</span>
    <span style="color:#069;font-weight:bold">public</span> List <span style="color:#c0f">beforeBodyWrite</span><span style="color:#555">(</span>List body<span style="color:#555">,</span> MethodParameter returnType<span style="color:#555">,</span> MediaType selectedContentType<span style="color:#555">,</span> Class<span style="color:#555">&lt;?</span> <span style="color:#069;font-weight:bold">extends</span>
    HttpMessageConverter<span style="color:#555">&lt;?&gt;&gt;</span> selectedConverterType<span style="color:#555">,</span> ServerHttpRequest request<span style="color:#555">,</span> ServerHttpResponse response<span style="color:#555">)</span> <span style="color:#555">{</span>
        <span style="color:#069;font-weight:bold">return</span> body<span style="color:#555">;</span>
    <span style="color:#555">}</span>
<span style="color:#555">}</span></code></pre></div>
<p>For our case, we want the advice to modify response only if the controller method has the <code>@JsonFilter</code> annotation. This is possible with the following implementation of the <code>supports</code> method:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#99f">@Override</span>
    <span style="color:#069;font-weight:bold">public</span> <span style="color:#078;font-weight:bold">boolean</span> <span style="color:#c0f">supports</span><span style="color:#555">(</span>MethodParameter returnType<span style="color:#555">,</span> Class<span style="color:#555">&lt;?</span> <span style="color:#069;font-weight:bold">extends</span> HttpMessageConverter<span style="color:#555">&lt;?&gt;&gt;</span> converterType<span style="color:#555">)</span> <span style="color:#555">{</span>
        List<span style="color:#555">&lt;</span>Annotation<span style="color:#555">&gt;</span> annotations <span style="color:#555">=</span> Arrays<span style="color:#555">.</span><span style="color:#309">asList</span><span style="color:#555">(</span>returnType<span style="color:#555">.</span><span style="color:#309">getMethodAnnotations</span><span style="color:#555">());</span>
        <span style="color:#069;font-weight:bold">return</span> annotations<span style="color:#555">.</span><span style="color:#309">stream</span><span style="color:#555">().</span><span style="color:#309">anyMatch</span><span style="color:#555">(</span>annotation <span style="color:#555">-&gt;</span> annotation<span style="color:#555">.</span><span style="color:#309">annotationType</span><span style="color:#555">().</span><span style="color:#309">equals</span><span style="color:#555">(</span>JsonFilter<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">));</span>
    <span style="color:#555">}</span></code></pre></div>
<p>The actual filtering of the response itself involves filtering the <code>List</code> for only those entries where every filter key has values provided in the incoming request. The following implementation achieves this:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#99f">@Override</span>
    <span style="color:#069;font-weight:bold">public</span> List <span style="color:#c0f">beforeBodyWrite</span><span style="color:#555">(</span>List body<span style="color:#555">,</span> MethodParameter returnType<span style="color:#555">,</span> MediaType selectedContentType<span style="color:#555">,</span> Class<span style="color:#555">&lt;?</span> <span style="color:#069;font-weight:bold">extends</span>
            HttpMessageConverter<span style="color:#555">&lt;?&gt;&gt;</span> selectedConverterType<span style="color:#555">,</span> ServerHttpRequest request<span style="color:#555">,</span> ServerHttpResponse response<span style="color:#555">)</span> <span style="color:#555">{</span>
        List<span style="color:#555">&lt;</span>Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Object<span style="color:#555">&gt;&gt;</span> values <span style="color:#555">=</span> <span style="color:#555">(</span>List<span style="color:#555">&lt;</span>Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Object<span style="color:#555">&gt;&gt;)</span> body<span style="color:#555">;</span>

        <span style="color:#09f;font-style:italic">// Identify keys we are interested in.
</span><span style="color:#09f;font-style:italic"></span>        JsonFilter annotation <span style="color:#555">=</span> returnType<span style="color:#555">.</span><span style="color:#309">getMethodAnnotation</span><span style="color:#555">(</span>JsonFilter<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">);</span>
        List<span style="color:#555">&lt;</span>String<span style="color:#555">&gt;</span> possibleFilters <span style="color:#555">=</span> Arrays<span style="color:#555">.</span><span style="color:#309">asList</span><span style="color:#555">(</span>annotation<span style="color:#555">.</span><span style="color:#309">keys</span><span style="color:#555">());</span>

        HttpServletRequest servletRequest <span style="color:#555">=</span> <span style="color:#555">((</span>ServletServerHttpRequest<span style="color:#555">)</span> request<span style="color:#555">).</span><span style="color:#309">getServletRequest</span><span style="color:#555">();</span>

        List<span style="color:#555">&lt;</span>Map<span style="color:#555">&lt;</span>String<span style="color:#555">,</span> Object<span style="color:#555">&gt;&gt;</span> result <span style="color:#555">=</span> values<span style="color:#555">.</span><span style="color:#309">stream</span><span style="color:#555">().</span><span style="color:#309">filter</span><span style="color:#555">(</span>map <span style="color:#555">-&gt;</span> <span style="color:#555">{</span>
            <span style="color:#078;font-weight:bold">boolean</span> match <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">true</span><span style="color:#555">;</span>
            Enumeration<span style="color:#555">&lt;</span>String<span style="color:#555">&gt;</span> parameterNames <span style="color:#555">=</span> servletRequest<span style="color:#555">.</span><span style="color:#309">getParameterNames</span><span style="color:#555">();</span>
            <span style="color:#069;font-weight:bold">while</span> <span style="color:#555">(</span>parameterNames<span style="color:#555">.</span><span style="color:#309">hasMoreElements</span><span style="color:#555">())</span> <span style="color:#555">{</span>
                String parameterName <span style="color:#555">=</span> parameterNames<span style="color:#555">.</span><span style="color:#309">nextElement</span><span style="color:#555">();</span>
                <span style="color:#069;font-weight:bold">if</span><span style="color:#555">(</span>possibleFilters<span style="color:#555">.</span><span style="color:#309">contains</span><span style="color:#555">(</span>parameterName<span style="color:#555">))</span> <span style="color:#555">{</span>
                    String parameterValue <span style="color:#555">=</span> servletRequest<span style="color:#555">.</span><span style="color:#309">getParameter</span><span style="color:#555">(</span>parameterName<span style="color:#555">);</span>
                    Object valueFromMap <span style="color:#555">=</span> map<span style="color:#555">.</span><span style="color:#309">get</span><span style="color:#555">(</span>parameterName<span style="color:#555">);</span>
                    match <span style="color:#555">=</span> <span style="color:#555">(</span>valueFromMap <span style="color:#555">!=</span> <span style="color:#069;font-weight:bold">null</span><span style="color:#555">)</span> <span style="color:#555">&amp;&amp;</span> valueFromMap<span style="color:#555">.</span><span style="color:#309">toString</span><span style="color:#555">().</span><span style="color:#309">equals</span><span style="color:#555">(</span>parameterValue<span style="color:#555">.</span><span style="color:#309">toString</span><span style="color:#555">());</span>
                <span style="color:#555">}</span>
            <span style="color:#555">}</span>
            <span style="color:#069;font-weight:bold">return</span> match<span style="color:#555">;</span>
        <span style="color:#555">}).</span><span style="color:#309">collect</span><span style="color:#555">(</span>Collectors<span style="color:#555">.</span><span style="color:#309">toList</span><span style="color:#555">());</span>
        <span style="color:#069;font-weight:bold">return</span> result<span style="color:#555">;</span>
    <span style="color:#555">}</span></code></pre></div>
<p>For every entry in the list, we compare query parameter values in the request&rsquo;s URL to the one in the map and filter out only those entries where every combination matches. This is probably not the most efficient way of doing it, but for a quick hack, I am okay with it. Please feel free to take this and improve it. The code for this example is available on <a href="https://github.com/sdqali/spring-json-filter">GitHub</a>.</p>

<p>PS: Imdad may or may not have asked me to credit him for this blog post. ;-)</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1"><code>ResponseBodyAdvice</code> is an interface that can be wired with a <code>@ControllerAdvice</code> annotation to customize the response of controller methods. See the documentation <a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html">here</a>.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>
        </div>
        <aside>
          <p class="comments">
  If you have questions or comments about this blog post, you can get in touch with me on Twitter <a href="https://twitter.com/sdqali">@sdqali</a>.
</p>

        </aside>
        <aside>
          <h3>If you liked this post, you'll also like...</h3>
          <ul class="related-posts">
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2019/03/23/understanding-trailing-processing-in-sas-input/?utm_source=site&amp;utm_medium=related">Understanding trailing @ processing in SAS input</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2019/03/23/importing-the-sasuser-datasets-in-sas-studio/?utm_source=site&amp;utm_medium=related">Importing the SASUSER datasets in SAS Studio</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/06/09/formatting-java-instant-for-resolutions/?utm_source=site&amp;utm_medium=related">Formatting Java Instant for resolutions</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/05/04/freebuilder-plugin-for-intellij/?utm_source=site&amp;utm_medium=related">FreeBuilder plugin for IntelliJ</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2018/03/22/a-jackson-and-freebuilder-quirk/?utm_source=site&amp;utm_medium=related">A Jackson and FreeBuilder quirk</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2017/08/17/uploading-a-standalone-artifact-to-nexus-3/?utm_source=site&amp;utm_medium=related">Uploading a standalone artifact to Nexus 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/29/implementing-feature-toggles-for-a-spring-boot-application-part-4/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 4</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/28/implementing-feature-toggles-for-a-spring-boot-application-part-3/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/26/implementing-feature-toggles-for-a-spring-boot-application-part-2/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/21/implementing-feature-toggles-for-a-spring-boot-application-part-1/?utm_source=site&amp;utm_medium=related">Implementing feature toggles for a Spring Boot application - Part 1</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/11/setting-up-a-secure-etcd-cluster-behind-a-proxy/?utm_source=site&amp;utm_medium=related">Setting up a secure etcd cluster behind a proxy</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/04/a-very-basic-introduction-to-deploying-a-java-application-using-kubernetes/?utm_source=site&amp;utm_medium=related">A very basic introduction to deploying a Java application using Kubernetes</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/11/02/handling-deserialization-errors-in-spring-redis-sessions/?utm_source=site&amp;utm_medium=related">Handling Deserialization errors in Spring Redis Sessions</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/20/csrf-protection-with-spring-security-and-angular-js/?utm_source=site&amp;utm_medium=related">CSRF Protection with Spring Security and Angular JS</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/16/controlling-redis-auto-configuration-for-spring-boot-session/?utm_source=site&amp;utm_medium=related">Controlling Redis auto-configuration for Spring Boot Session</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/13/jwt-authentication-with-spring-web-part-5/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 5</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/07/jwt-authentication-with-spring-web-part-4/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 4</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/05/jwt-authentication-with-spring-web-part-3/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 3</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/03/jwt-authentication-with-spring-web-part-2/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/07/02/jwt-authentication-with-spring-web-part-1/?utm_source=site&amp;utm_medium=related">JWT authentication with Spring Web - Part 1</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/06/30/json-logging-for-spring-applications/?utm_source=site&amp;utm_medium=related">JSON logging for Spring applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/06/28/injecting-dependencies-into-a-spring-configuration/?utm_source=site&amp;utm_medium=related">Injecting dependencies into a Spring @Configuration</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/24/deprecating-domain-events-in-axon/?utm_source=site&amp;utm_medium=related">Deprecating domain events in Axon</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/19/programmable-exit-codes-for-spring-command-line-applications-2/?utm_source=site&amp;utm_medium=related">Programmable exit codes for spring command line applications - 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/04/17/programmable-exit-codes-for-spring-command-line-applications/?utm_source=site&amp;utm_medium=related">Programmable exit codes for Spring command line applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2016/01/29/using-custom-arguments-in-spring-mvc-controllers/?utm_source=site&amp;utm_medium=related">Using custom arguments in Spring MVC controllers</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/16/authentication-for-apache-camel-http-components/?utm_source=site&amp;utm_medium=related">Authentication for Apache Camel HTTP components</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/14/thoughts-on-open-graph-tags/?utm_source=site&amp;utm_medium=related">Thoughts on Open Graph tags</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/11/integration-testing-spring-command-line-applications/?utm_source=site&amp;utm_medium=related">Integration testing Spring command line applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/10/integration-testing-challenges-for-non-web-spring-applications/?utm_source=site&amp;utm_medium=related">Integration testing challenges for non-web Spring applications</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/07/how-thinking-of-documentation-as-legislation-helped-me-become-a-better-programmer/?utm_source=site&amp;utm_medium=related">How thinking of Documentation as Legislation helped me become a better programmer</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/06/implementing-custom-annotations-for-spring-mvc/?utm_source=site&amp;utm_medium=related">Implementing custom annotations for Spring MVC</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/12/04/validating-requestparams-and-pathvariables-in-spring-mvc/?utm_source=site&amp;utm_medium=related">Validating RequestParams and PathVariables in Spring MVC</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/11/24/testing-async-responses-using-mockmvc/?utm_source=site&amp;utm_medium=related">Testing async responses using MockMvc</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/06/09/running-multiple-applications-in-the-same-tomcat-installation/?utm_source=site&amp;utm_medium=related">Running multiple applications in the same Tomcat installation</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/05/21/making-sense-of-cloud-foundry-security-group-declarations/?utm_source=site&amp;utm_medium=related">Making sense of Cloud Foundry security group declarations</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2015/05/20/configuring-cloud-foundry-java-memory-parameters/?utm_source=site&amp;utm_medium=related">Configuring Cloud Foundry Java Memory Parameters</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2014/03/20/clojure-dojo-levenshtein-edit-distance/?utm_source=site&amp;utm_medium=related">Clojure Dojo - Levenshtein edit distance</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2014/02/17/a-simple-jmeter-test-with-login/?utm_source=site&amp;utm_medium=related">A simple JMeter test with login</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/13/implementing-rate-limiting-in-rails-part-2/?utm_source=site&amp;utm_medium=related">Implementing Rate Limiting in Rails - Part 2</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/12/implementing-rate-limiting-in-rails-part-1/?utm_source=site&amp;utm_medium=related">Implementing Rate Limiting in Rails - Part 1</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/10/07/python-hack-dynamically-override-an-objects-attribute/?utm_source=site&amp;utm_medium=related">Python Hack - Dynamically override an object&#39;s attribute</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/12/managing-gemsets-in-rbenv/?utm_source=site&amp;utm_medium=related">Managing Gemsets in Rbenv</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/09/08/looking-up-compiler-params-used-to-compile-a-ruby-version/?utm_source=site&amp;utm_medium=related">Looking up Compiler params used to compile a Ruby version</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/08/15/pythons-bool-type/?utm_source=site&amp;utm_medium=related">Python&#39;s bool type</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/07/31/validating-json-in-emacs/?utm_source=site&amp;utm_medium=related">Validating JSON in Emacs</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/29/emacs-hack-viewing-git-logs-while-composing-commit-messages/?utm_source=site&amp;utm_medium=related">Emacs hack: Viewing Git logs while composing commit messages</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/14/configure-gits-comment-character/?utm_source=site&amp;utm_medium=related">Configure Git&#39;s comment character</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/11/my-experience-working-remotely/?utm_source=site&amp;utm_medium=related">My experience working remotely</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/08/oh-i-can-build-it-in.../?utm_source=site&amp;utm_medium=related">Oh I can build it in...</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/04/05/javascript-clipboard-access-and-hidden-flash-widgets/?utm_source=site&amp;utm_medium=related">JavaScript, clipboard access and hidden flash widgets</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2013/01/22/reducing-emacs-startup-time-while-committing/?utm_source=site&amp;utm_medium=related">Reducing Emacs startup time while committing</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/29/my-first-firefox-plugin-getcache-view-cached-version-of-the-current-page/?utm_source=site&amp;utm_medium=related">My first Firefox plugin: GetCache - View cached version of the current page</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/28/getcache-a-chrome-plugin-to-view-cached-version-of-the-current-page/?utm_source=site&amp;utm_medium=related">GetCache - A Chrome plugin to view cached version of the current page</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/11/27/on-rest-content-type-google-chrome-and-caching/?utm_source=site&amp;utm_medium=related">On REST, Content-Type, Google Chrome and Caching</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/07/09/understanding-pythons-with-statement/?utm_source=site&amp;utm_medium=related">Understanding Python&#39;s &#34;with&#34; statement</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/07/04/heredocs-in-ruby-and-python/?utm_source=site&amp;utm_medium=related">Heredocs in Ruby and Python</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/25/micro-journal-simple-git-backed-journal-in-python/?utm_source=site&amp;utm_medium=related">Micro Journal - simple Git-backed journal in Python</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/24/vodqa-ncr-maintaining-large-test-suites/?utm_source=site&amp;utm_medium=related">VodQA NCR: Maintaining Large Test Suites</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/06/know-your-tools-dont-shoot-yourself-in-the-foot/?utm_source=site&amp;utm_medium=related">Know Your Tools - Don&#39;t Shoot Yourself in the Foot</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/06/05/managing-security-certificates-from-the-console-on-windows-mac-os-x-and-linux/?utm_source=site&amp;utm_medium=related">Managing security certificates from the console - on Windows, Mac OS X and Linux</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/05/11/indian-and-pakistani-cricketers-who-make-better-debuts/?utm_source=site&amp;utm_medium=related">Indian and Pakistani cricketers - who make better debuts?</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/05/04/fixing-flyspell-for-emacs-in-mac-os-x/?utm_source=site&amp;utm_medium=related">Fixing Flyspell for Emacs in Mac OS X</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/04/29/finding-un-merged-commits-with-git-cherry/?utm_source=site&amp;utm_medium=related">Finding un-merged commits with git cherry</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/02/03/bullet-proof-jenkins-setup/?utm_source=site&amp;utm_medium=related">Bullet proof Jenkins setup</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/01/17/why-your-project-should-have-a-getting-started-guide./?utm_source=site&amp;utm_medium=related">Why your project should have a Getting Started guide.</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2012/01/16/debugging-c-sharps-httpwebrequest-100-continue-and-nginx/?utm_source=site&amp;utm_medium=related">Debugging: C Sharp&#39;s HttpWebRequest, 100-Continue and nginx</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/05/17/wikipedia-page-hopping/?utm_source=site&amp;utm_medium=related">Wikipedia Page Hopping</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/03/24/empathy-log-parser/?utm_source=site&amp;utm_medium=related">Empathy Log Parser</a></li>
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2011/03/23/binary-signature-art/?utm_source=site&amp;utm_medium=related">Binary Signature Art</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2010/03/16/java-arrays-in-jruby/?utm_source=site&amp;utm_medium=related">Java Arrays in JRuby</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="https://sdqali.in/blog/2010/01/09/autorun.py-execute-stuff-on-file-change/?utm_source=site&amp;utm_medium=related">Autorun.py - Execute stuff on file change</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
          </ul>
        </aside>
      </div>
    </article>

    <hr>

    
<footer  itemscope="itemscope" itemtype="http://schema.org/WPFooter">
  <div >
    <div >
      <div >
        <ul >
          <li>
            <a href="https://twitter.com/sdqali">
              <span >Twitter</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://plus.google.com/115900084932734914678">
              <span >Google+</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/sdqali">
              <span >LinkedIn</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/sdqali">
              <span >GitHub</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
          <li>
            <a href="/index.xml">
              <span >Atom Feed</span>
              <span  aria-hidden="true">
                <span ></span>
                <span ></span>
              </span>
            </a>
          </li>
        </ul>
        <p >&copy; All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86967633-1', 'auto');
  ga('send', 'pageview');

</script>

<link rel="stylesheet" href="/style.css"/>

  </body>
</html>
